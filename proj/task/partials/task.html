<div class="widget-box" id="recent-box" ng-controller="tasksController" >
<div class="widget-header header-color-blue" >
<div class="row">
<div class="col-sm-2">
	<h4 class="bigger lighter mTop14">
		<i class="glyphicon glyphicon-align-justify"></i>&nbsp;
		TASK MANAGER
	</h4>
</div>
<div class="col-sm-2" ng-controller="getSessionParam">
	<a href="#/creatTask">
		<button class="btn btn-default mTop" type="submit" ng-class="{hideButton:role !='admin'}">NewTask</button>
	</a>
</div>

<div class="col-sm-2" ng-controller="getSessionParam">
	<a href="#/dashboard">
		<button class="btn btn-default mTop" type="submit" ng-class="{hideButton:role !='admin'}">Dashboard</button>
	</a>
</div>
<div class="col-sm-2">
	<select ng-model="prefixModel"  class="form-control mTop">
		<option value="">All prefixes</option>
		<option value="done">done</option>
		<option value="open">open</option>
		<option value="closed">closed</option>
		<option value="verified">verified</option>
		<option value="local verified">local verified</option>

	</select>
</div>
<div class="col-sm-2" >
	<select ng-model="prefixProject"  class="form-control mTop" >
		<option value="">All project</option>
		<option value="gep">gep</option>
		<option value="webinvestpro">webinvestpro</option>
		<option value="crystal">crystal</option>
		<option value="blagovest">blagovest</option>
		<option value="AE">AE</option>
			
	</select>
</div>
<div class="col-sm-2">
	
<input type="text" ng-model="filterTask" class="form-control search header-elements-margin" placeholder="Filter Tasks" >

</div>
</div></div>
<div class="widget-body " ng-controller="getSessionParam">

<div class="task">
	<label class="checkbox">
		<div class="row">
			<div class="col-md-6">
				<span># Task</span> 
				<span >Name Task</span>
			</div>
			<div class="col-md-2">
				<span>Project</span>
			</div>
			<div class="col-md-2">
				<span ng-class="{hideButton:role =='admin'}">Priority</span>
				<span ng-class="{hideButton:role !='admin'}">Start time</span>
			</div>
			<div class="col-md-1">
				<span>User</span>
			</div>
			<div class="col-md-1">
				<span>Status</span>
			</div>
		</div>
	</label>
	
    <label ng-class="{mainTask:task.parent == 0}"   class="checkbox elSum" ng-repeat="task in tasks | filter : filterTask | filter : prefixModel | filter : prefixProject" >
	    <div ng-class="{childTask:task.parent != 0}" class="mTaskBg">
	    	<a href="#/openTask?id={{task.id}}&parent={{task.parent}}"> 
				<div class="row" >
					<div class="col-md-6">
					 <!-- ng-class="{hideTask2:$index < 2 , hideTask:$index > 4}" -->
						<span># {{task.id}}</span> 
						<span ng-class="{strike:task.status=='closed'}">{{task.name}}</span>
					</div>
					<div class="col-md-2">
						<span>{{task.project}}</span>
					</div>
					<div class="col-md-2">
						<span ng-class="{hideButton:role =='admin'}">{{task.priority}}</span>
						<span ng-class="{hideButton:role !='admin'}">{{task.time_start}}</span>						
					</div>				
					<div class="col-md-1">
						<span>{{task.access}}</span>
					</div>
					<div class="col-md-1">
						<span>{{task.status}}</span>
					</div>
				</div>	
			</a>
	    </div>				
    </label>
    
</div>
</div>
</div>

